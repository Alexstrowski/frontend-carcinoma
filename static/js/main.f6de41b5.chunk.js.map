{"version":3,"sources":["components/Card.jsx","components/Image.jsx","components/Result.jsx","utils/index.js","plugins/axios.js","components/UploadFileContainer.jsx","App.js","index.js"],"names":["Card","children","className","Image","image","src","URL","createObjectURL","alt","name","id","formatNumber","number","Result","prediction","isLoading","bcc","nobcc","getBase64Image","dataURL","getExtension","replace","substring","indexOf","axiosClient","axios","create","baseURL","process","headers","UploadFileContainer","updateImage","updatePrediction","setIsLoading","useState","undefined","selectedFile","setSelectedFile","type","onChange","event","target","files","onClick","params","reader","FileReader","readAsDataURL","onload","e","a","result","base64Image","payload","post","response","data","prediccion","disabled","App","setImage","setPrediction","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6de41b5.chunk.js","sourcesContent":["const Card = ({ children }) => {\n  return (\n    <div className=\"rounded-3xl shadow-lg w-full my-16 bg-white\">\n      <div className=\"px-8 py-12\">\n        <div className=\"text-gray-700 text-base\">{children}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","const Image = ({ image }) => {\n  return (\n    <div className=\"w-1/3 mr-8\">\n      <p className=\"text-2xl mb-4\">Imagen</p>\n      <div className=\"border-4 border-blue-600 h-96\">\n        {image ? (\n          <img\n            src={URL.createObjectURL(image)}\n            alt={image.name}\n            className={\"w-full h-full\"}\n            data-testid=\"image-box\"\n            id=\"photo-uploader\"\n          />\n        ) : (\n          <div className=\"text-gray-400 text-4xl flex justify-center items-center h-full\">\n            No hay imagen cargada\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Image;\n","const Result = ({ prediction, isLoading }) => {\n  return (\n    <div className=\"w-2/3\">\n      <p className=\"text-2xl mb-4\">Resultados</p>\n      <div className=\"border-4 border-blue-600 h-96 flex flex-col justify-center items-center text-2xl\">\n        {prediction.bcc !== null ? (\n          <div>\n            <p className=\"mb-4\">\n              Es carcinoma basocelular: {formatNumber(prediction.bcc)}\n            </p>\n            <p>No es carcinoma basocelular: {formatNumber(prediction.nobcc)}</p>\n          </div>\n        ) : isLoading ? (\n          <div className=\"text-gray-400 text-4xl flex justify-center items-center h-full\">\n            Cargando...\n          </div>\n        ) : (\n          <div className=\"text-gray-400 text-4xl flex justify-center items-center h-full\">\n            Aún no hay resultados\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst formatNumber = (number) => {\n  return `${number * 100} %`;\n};\n\nexport default Result;\n","export const getBase64Image = (dataURL) => {\n  const extension = getExtension(dataURL);\n  const base64Image =\n    extension === \"png\"\n      ? dataURL.replace(\"data:image/png;base64,\", \"\")\n      : dataURL.replace(\"data:image/jpeg;base64,\", \"\");\n  return base64Image;\n};\n\nexport const getExtension = (dataURL) => {\n  return dataURL.substring(\n    dataURL.indexOf(\"/\") + 1,\n    dataURL.indexOf(\";base64\")\n  );\n};\n","import axios from \"axios\";\n\nconst axiosClient = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default axiosClient;\n","import { useState } from \"react\";\nimport { getBase64Image } from \"../utils\";\nimport axiosClient from \"../plugins/axios\";\n\nconst UploadFileContainer = ({\n  updateImage,\n  updatePrediction,\n  setIsLoading,\n}) => {\n  const [selectedFile, setSelectedFile] = useState(undefined);\n\n  const handleInputFile = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      setSelectedFile(event.target.files[0]);\n      updateImage(event.target.files[0]);\n    }\n  };\n\n  const handleFileUpload = (params) => {\n    let reader = new FileReader();\n    reader.readAsDataURL(selectedFile);\n\n    reader.onload = async function (e) {\n      let dataURL = reader.result;\n      const base64Image = getBase64Image(dataURL);\n      const payload = {\n        image: base64Image,\n      };\n      setIsLoading(true);\n      const response = await axiosClient.post(\"/predict\", payload);\n      setIsLoading(false);\n      updatePrediction(response.data.prediccion);\n    };\n  };\n\n  return (\n    <div className=\"mt-8 text-center\">\n      <input\n        type=\"file\"\n        onChange={handleInputFile}\n        data-testid=\"fileInput\"\n        className=\"mr-4\"\n      />\n      <button\n        className=\"bg-blue-500 disabled:opacity-10 text-white font-bold py-2 px-4 rounded\"\n        onClick={handleFileUpload}\n        disabled={!selectedFile}\n      >\n        Predecir\n      </button>\n    </div>\n  );\n};\n\nexport default UploadFileContainer;\n","import \"./App.css\";\nimport { useState } from \"react\";\nimport { Card, Image, Result, UploadFileContainer } from \"./components\";\n\nfunction App() {\n  const [image, setImage] = useState(null);\n  const [prediction, setPrediction] = useState({\n    bcc: null,\n    nobcc: null,\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  return (\n    <div className=\"container mx-auto\">\n      <p className=\"text-6xl mt-8 text-center\">\n        Predicción del carcinoma basocelular\n      </p>\n      <p className=\"text-3xl mt-8 text-center text-gray-600\">\n        Cargar la imagen en formato .png o .jpg\n      </p>\n      <UploadFileContainer\n        updateImage={setImage}\n        updatePrediction={setPrediction}\n        setIsLoading={setIsLoading}\n      />\n      <Card>\n        <div className=\"flex\">\n          <Image image={image} />\n          <Result prediction={prediction} isLoading={isLoading} />\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}